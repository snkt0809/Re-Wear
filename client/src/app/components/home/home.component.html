<div class="home-container">
  <div class="content-wrapper">
    <!-- Hero Section -->
    <app-hero [currentUser]="currentUser"></app-hero>
    <!-- Features Section -->
    <app-features></app-features>
    <!-- Stats Section -->
    <app-stats></app-stats>
    <!-- Featured Items Carousel -->
    <div class="carousel-section">
      <h2>Featured Items</h2>
      <div class="carousel-container">
        <button class="carousel-btn prev" (click)="previousSlide()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        
        <div class="carousel-track" [style.transform]="'translateX(' + currentSlide * -100 + '%)'">
          <div class="carousel-slide" *ngFor="let item of featuredItems; let i = index">
            <div class="item-card">
              <div class="item-image">
                <img [src]="item.images[0]" [alt]="item.title">
                <div class="item-badge" [class]="item.availability">{{ item.availability }}</div>
              </div>
              <div class="item-info">
                <h3>{{ item.title }}</h3>
                <p class="item-category">{{ item.category }}</p>
                <p class="item-size">Size: {{ item.size }}</p>
                <div class="item-actions">
                  <span class="points">{{ item.points }} points</span>
                  <button 
                    class="btn btn-sm btn-primary swap-btn" 
                    (click)="onSwapRequest(item)"
                    [class.logged-out]="!currentUser">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M7 16V4M7 4L3 8M7 4L11 8M17 8V20M17 20L21 16M17 20L13 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    {{ currentUser ? 'Swap Request' : 'Login to Swap' }}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <button class="carousel-btn next" (click)="nextSlide()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      
      <div class="carousel-indicators">
        <button 
          *ngFor="let item of featuredItems; let i = index" 
          class="indicator" 
          [class.active]="i === currentSlide"
          (click)="goToSlide(i)">
        </button>
      </div>
    </div>
  </div>
  
  <!-- Testimonials Section -->
  <app-testimonials></app-testimonials>
</div>

<!-- Chatbot Component - Moved outside home-container to float properly -->
<app-chatbot></app-chatbot> 